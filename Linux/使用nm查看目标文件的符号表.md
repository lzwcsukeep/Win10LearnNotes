使用nm 可以查看目标文件的符号表。 目标文件之外还可以查看动态共享库，可执行文件,静态库内的符号表。(动态库，可执行文件其实也是目标文件的一种。)

## 基本语法
nm 命令直接列出文件的符号表，支持目标文件、共享库、可执行文件等。
```bash
nm [选项] 文件名  # 文件名可以是 .o、.so、可执行文件等
```
常用选项：
无选项：显示所有符号（包括已定义、未定义、弱符号等），每行格式为 地址 类型 符号名。
-g：只显示全局符号（对外可见的符号，如函数、全局变量）。
-u：只显示未定义符号（引用但未实现的符号）。
-D：用于共享库（.so），显示动态符号表（共享库对外导出的符号）。
-l：显示符号对应的源文件和行号（需编译时带 -g 调试信息）。

命令 `nm test.o` 输出示例：

```plaintext
0000000000000000 T main       # T 表示已定义的全局函数（text段）
0000000000000020 D global_var # D 表示已定义的全局变量（data段）
                 U printf      # U 表示未定义符号（引用自其他文件/库）
```
输出格式： 每一行的格式为 ： value type name 也就是： 值  类型  符号名

### 对于动态库常用选项

-D：仅显示动态符号（对动态库必加，否则可能看不到关键符号）。
-C：解析 C++ 符号名称（去混淆，如 _Z3fooiv 显示为 foo()）。
-g：仅显示全局符号（对外暴露的函数 / 变量，通常是我们关心的）。

```bash
# 查看动态库的全局动态符号
nm -D -g libbsd.so.0.10.0

# 过滤特定函数（如查找 strlcpy）
nm -D -g libbsd.so.0.10.0 | grep strlcpy
```
注： 动态库记得加 -D 选项， 去除C++ 命名重整使用 -C 选项。

### objdump 
objdump 也可以查看目标文件的符号表，不过知道一个就够用了。

objdump 功能更全面，可查看符号表、反汇编等，符号表相关选项如下：

基本语法：

```bash
objdump -t 文件名        # 显示常规符号表（类似 nm）
objdump -T 文件名        # 显示动态符号表（用于共享库，类似 nm -D）
```