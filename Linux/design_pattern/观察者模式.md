### ä¸€ã€è§‚å¯Ÿè€…æ¨¡å¼çš„æ ¸å¿ƒæ¦‚å¿µ

**å®šä¹‰å¯¹è±¡é—´çš„ä¸€å¯¹å¤šä¾èµ–å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ‰€æœ‰ä¾èµ–å®ƒçš„å¯¹è±¡éƒ½ä¼šè¢«è‡ªåŠ¨é€šçŸ¥å¹¶æ›´æ–°ã€‚**

å°±åƒç°å®ä¸­ï¼š

â€œæ°”è±¡å°ï¼ˆä¸»é¢˜ï¼‰â€ æ›´æ–°å¤©æ°”ï¼›

æ‰€æœ‰ â€œæ˜¾ç¤ºå±ï¼ˆè§‚å¯Ÿè€…ï¼‰â€ éƒ½è‡ªåŠ¨æ›´æ–°ã€‚

### äºŒã€è§’è‰²ç»“æ„ï¼ˆéå¸¸é‡è¦ï¼‰

| è§’è‰²                          | åŠŸèƒ½                  |
| --------------------------- | ------------------- |
| **Subjectï¼ˆä¸»é¢˜/è¢«è§‚å¯Ÿè€…ï¼‰**        | ç®¡ç†è§‚å¯Ÿè€…ï¼ŒçŠ¶æ€å˜åŒ–æ—¶é€šçŸ¥å®ƒä»¬     |
| **Observerï¼ˆè§‚å¯Ÿè€…ï¼‰**           | æ¥å£ï¼Œå®šä¹‰ `update()` æ–¹æ³• |
| **ConcreteSubjectï¼ˆå…·ä½“ä¸»é¢˜ï¼‰**   | å­˜å‚¨çŠ¶æ€ï¼Œå¹¶åœ¨çŠ¶æ€æ”¹å˜æ—¶é€šçŸ¥è§‚å¯Ÿè€…   |
| **ConcreteObserverï¼ˆå…·ä½“è§‚å¯Ÿè€…ï¼‰** | æ¥æ”¶é€šçŸ¥å¹¶åšå‡ºååº”           |

ä»£ç å®ç°

```c
#include <iostream>
#include <vector>
#include <string>
using namespace std;

// æŠ½è±¡è§‚å¯Ÿè€…
class Observer {
public:
    virtual void update(float temperature) = 0;
    virtual ~Observer() = default;
};

// æŠ½è±¡ä¸»é¢˜
class Subject {
public:
    virtual void addObserver(Observer* o) = 0;
    virtual void removeObserver(Observer* o) = 0;
    virtual void notifyObservers() = 0;
    virtual ~Subject() = default;
};

// å…·ä½“ä¸»é¢˜ï¼šå¤©æ°”ç«™
class WeatherStation : public Subject {
    vector<Observer*> observers;
    float temperature;
public:
    void addObserver(Observer* o) override {
        observers.push_back(o);
    }

    void removeObserver(Observer* o) override {
        observers.erase(remove(observers.begin(), observers.end(), o), observers.end());
    }

    void setTemperature(float t) {
        temperature = t;
        notifyObservers();
    }

    void notifyObservers() override {
        for (auto* o : observers) {
            o->update(temperature);
        }
    }
};

// å…·ä½“è§‚å¯Ÿè€…ï¼šæ˜¾ç¤ºå±
class Display : public Observer {
    string name;
public:
    Display(string n) : name(move(n)) {}
    void update(float temperature) override {
        cout << "[" << name << "] Temperature updated: " << temperature << "Â°C\n";
    }
};

// ä½¿ç”¨ç¤ºä¾‹
int main() {
    WeatherStation station;

    Display d1("Lobby");
    Display d2("Office");
    Display d3("Outdoor");

    station.addObserver(&d1);
    station.addObserver(&d2);
    station.addObserver(&d3);

    station.setTemperature(25.3);
    station.setTemperature(30.1);

    station.removeObserver(&d2);
    station.setTemperature(22.8);
}
```

## ğŸ§  è¾“å‡ºç»“æœ

```plaintext
[Lobby] Temperature updated: 25.3Â°C
[Office] Temperature updated: 25.3Â°C
[Outdoor] Temperature updated: 25.3Â°C
[Lobby] Temperature updated: 30.1Â°C
[Office] Temperature updated: 30.1Â°C
[Outdoor] Temperature updated: 30.1Â°C
[Lobby] Temperature updated: 22.8Â°C
[Outdoor] Temperature updated: 22.8Â°C

```


