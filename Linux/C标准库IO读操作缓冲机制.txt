C 标准库读取设备或文件也是有缓冲机制的，也是有一个缓冲区。
当使用标准库函数进行一个读操作，不会只读当前请求的数据，而是会多读取一些数据到缓冲区，
之后的读取操作从缓冲区里拿数据。而不是从文件中拿。
这个机制就叫输入缓冲机制。下面具体解释。

### 输入缓冲的工作机制
当使用标准库函数（如 fgetc、fread、fscanf 等）从设备（如键盘、磁盘文件、网络设备等）读取数据时，标准库会在内存中维护一个输入缓冲区：
1. 预读取数据：当程序第一次请求读取数据时，标准库不会只读取 “程序当前需要的字节数”，而是会一次性从底层设备读取一批数据（通常是缓冲区大小，如 4KB），存入输入缓冲区。
2. 从缓冲区返回数据：后续程序的读取请求会直接从缓冲区中获取数据，直到缓冲区中的数据被用完。
3. 再次填充缓冲区：当缓冲区为空时，标准库会再次从底层设备读取一批数据填充缓冲区，重复上述过程。

输入缓冲的类型
和输出缓冲类似，输入缓冲也遵循标准库的三种缓冲模式（由 setvbuf 函数设置）：
全缓冲：适用于磁盘文件等 “块设备”。缓冲区填满后才会将数据返回给程序（或当程序显式请求刷新时）。例如，读取普通文件时，fread 会优先从缓冲区获取数据，缓冲区		空了才会真正从磁盘读数据。
行缓冲：适用于交互式设备（如键盘）。当缓冲区遇到换行符（\n）时，缓冲区中的数据会被提交给程序。例如，使用 fgets 从键盘读取时，按下回车（\n）后，输入的一行数	据会从缓冲区传递给程序。
无缓冲：数据直接从设备读取到程序，不经过缓冲区。典型场景是读取某些特殊设备（如实时传感器），需要立即获取数据，不允许延迟。

